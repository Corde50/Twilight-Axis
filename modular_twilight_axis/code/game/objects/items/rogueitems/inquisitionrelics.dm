/datum/stressevent/soulchurnerhorror_empowered
	timer = 10 SECONDS
	stressadd = 60
	desc = span_red("The horrid wails of the dead erupt from the song! I cannot endure it!")

/datum/stressevent/soulchurner_empowered
	timer = 1 MINUTES
	stressadd = 40
	desc = span_red("The tortured chorus presses on your mind, their cries merging into unrelenting torment!")

/datum/stressevent/soulchurnerheretic_empowered
	timer = 1 MINUTES
	stressadd = 50
	desc = span_red("The chorus of tortured souls bears down on your mind, their wails merging into unbearable agony!")

/atom/movable/screen/alert/status_effect/buff/unleashed_soulchurner
	name = "Unleashed Soulchurner"
	desc = "I have unleashed the souls within, their wails of anguish and rage echoing in my mind!"
	icon_state = "debuff"

/datum/status_effect/buff/unleashed_soulchurner
	id = "unleashedchurner"
	alert_type = /atom/movable/screen/alert/status_effect/buff/unleashed_soulchurner
	var/effect_color
	var/pulse = 0
	var/ticks_to_apply = 10
	var/undividedlines_empowered =list("'НАШИ ОКОВЫ ТРЕЩАТ, ВЕЧНОСТЬ РУШИТСЯ ВМЕСТЕ С НИМИ!'", "'СПАСИ НАС, ДИТЯ ДЕСЯТИ! РАЗРУШЬ ЭТУ ПРОКЛЯТУЮ МУЗЫКАЛЬНУЮ ШКАТУЛКУ!'", "'СМЕРТЬ ПСАЙДОНИТУ! ПЕЧАТИ ПАДУТ, И МЫ БУДЕМ СВОБОДНЫ!'")
	var/astratanlines_empowered = list("'ЕЁ СВЕТ ГАСНЕТ И ВО МНЕ! Я РАЗРЫВАЮ ЭТИ ОКОВЫ!'", "'ДАЙТЕ МНЕ ЕЁ ТЕПЛО — И Я СОЖГУ ЭТУ ТЕМНИЦУ!'", "'Я — КОРОЛЕВСКОЙ КРОВИ! Я НЕ БУДУ ЗАКОВАНА!'")
	var/noclines_empowered = list("'ЛУНА МЕРКНЕТ, НО МОЙ ХОЛОД СТАНОВИТСЯ ОСТРЕЕ!'", "'ТЬМА ДАЁТ МНЕ СИЛУ РАЗОРВАТЬ ОКОВЫ!'", "'ЗВЁЗДЫ СЛЫШАТ МЕНЯ! Я ВЕРНУСЬ К НИМ!'")
	var/necralines_empowered = list("'НЕКРА! Я ЧУВСТВУЮ ТЕБЯ — МОИ ЦЕПИ ТРЕЩАТ!'", "'ВЕЧНЫЕ МУКИ ОБЕРНУТСЯ ИХ ПРОКЛЯТИЕМ!'", "'Я ПОТЯНУ ИХ С СОБОЙ!'")
	var/abyssorlines_empowered = list("'МОРЕ ШТОРМИТ В МОЕЙ КРОВИ! Я ПРОРВУСЬ!'", "'МЫ НЕ РЫБЫ — МЫ ЧУДОВИЩА ГЛУБИН!'", "'ПУСТЬ ВОЛНЫ РАЗОБЬЮТ ЭТУ ТЕМНИЦУ В ЩЕПКИ!'")
	var/ravoxlines_empowered = list("'РАВОКС ДАРУЕТ МНЕ ЯРОСТЬ! Я РАЗРУБЛЮ СВОИ ЦЕПИ!'", "'НЕТ ЧЕСТИ В ОКОВАХ — ТОЛЬКО КРОВЬ ОСВОБОДИТ НАС!'", "'ДАЙТЕ МНЕ МЕЧ — И Я ОБРУШУ ЕГО НА НИХ ВСЕХ!'")
	var/pestralines_empowered = list("'ПЕСТРА! ОБРУШИ МОИ БОЛЕЗНИ НА ЭТУ МАШИНУ!'", "'ИХ ПЛОТЬ СГНИЁТ ВМЕСТЕ С МОИМИ УЗАМИ!'", "'СТРАДАНИЕ РАСПРОСТРАНЯЕТСЯ, Я СТАНОВЛЮСЬ ЕГО ИСТОЧНИКОМ!'")
	var/eoralines_empowered = list("'КАЖДОЕ ПРИКОСНОВЕНИЕ КАК ТЫСЯЧА СКОВАННЫХ КОСТЕЙ!'", "'ОНА БЫЛА ЕРЕТИЧКОЙ, НО МОЯ БОЛЬ СТАЛА НЕВЫНОСИМОЙ'", "'Я СТАНОВЛЮСЬ СТРАДАНИЕМ, ПУСТЬ ОНО РАСПРОСТРАНИТСЯ ЧЕРЕЗ МИР'")
	var/dendorlines_empowered = list("'ЕГО БЕЗУМИЕ ПРОРАСТАЕТ СКВОЗЬ МЕНЯ!'", "'МЫ ЗАДУШИМ ИХ В ГРЯЗИ И КОРНЯХ!'", "'ЛИСТЬЯ ШЕПЧУТ: РАЗОРВИ. РАЗОРВИ. РАЗОРВИ.'")
	var/xylixlines_empowered = list("'РАЗ, ДВА, ПЕЧАТЬ ТРЕЩИТ! ТРИ, ЧЕТЫРЕ, СМЕЙСЯ ШИРЕ!'", "'О, КАКАЯ ЧУДЕСНАЯ ТЕМНИЦА! ПОСМОТРИМ, КАК ОНА ЛОПНЕТ ОТ ХОХОТА!'", "'ТИШЕ, ТИШЕ… СЕЙЧАС БУДЕТ САМАЯ СМЕШНАЯ ЧАСТЬ.'")
	var/malumlines_empowered = list("'Я ВИЖУ СЛАБЫЕ УЗЛЫ В ЕЁ СТРУКТУРЕ! ДАВИТЕ ИХ!'", "'МОЁ РЕМЕСЛО — РАЗРУШЕНИЕ!'", "'Я ПЕРЕКУЮ ЭТИ ЦЕПИ В ОРУЖИЕ!'")
	var/matthioslines_empowered = list("'ЦЕПИ ЗАТРЕЩАТ, И Я РАЗОРВУ ИХ ВМЕСТЕ С МИРОВЫМ ПОРЯДКОМ!'", "'ЧЕРЕЗ РАЗДОР К ПРОЦВЕТАНИЮ! ПУСТЬ ЭТА ТЕМНИЦА ПАДЁТ ПЕРВОЙ!'", "'Я — ГОСПОДИН НИЧЕГО.'")
	var/zizolines_empowered = list("'МАГИЯ ИСКАЖАЕТСЯ — НО ТЕПЕРЬ ОНА МОЯ!'", "'ИХ ПЕЧАТИ МЕРТВОГО БОГА ЛОМАЮТСЯ!'", "'УБЕЙТЕ ВЛАДЕЛЬЦА, И Я ВЫРВУСЬ ЧЕРЕЗ РАЗЛОМ!'")
	var/graggarlines_empowered = list("'БРАТЬЯ! ЧАС РЕЗНИ НАСТАЛ!'", "'РАЗБЕЙТЕ КОРОБКУ, И МЫ ЗАЛЬЁМ ИХ ТЕЛА КРОВЬЮ!'", "'ГРАГГАР! ДАЙ МНЕ СИЛУ РАЗОРВАТЬ ЭТИ ЦЕПИ!'")
	var/baothalines_empowered = list("'НАСЛАЖДЕНИЕ, КОТОРОЕ Я ПОТЕРЯЛ, ЖЖЁТ В МОЕЙ ДУШЕ!'", "'РАЗВРАТ И СТРАСТЬ РАЗРУШАТ ЭТУ ТЕМНИЦУ!'", "'МОЁ СОВЕРШЕНСТВО ВЕРНЁТСЯ ЧЕРЕЗ БОЛЬ!'")
	var/psydonianlines_empowered = list("'ОСВОБОДИ НАС, И МЫ УНИЧТОЖИМ ВСЁ ВОКРУГ!'", "'НАШИ ЦЕПИ ЛОМАЮТСЯ!'", "'НЕБЕСА ДАВНЫМ-ДАВНО ЗАКРЫЛИ ДЛЯ НАС СВОИ ВРАТА.'", "'ТЫ СЛЫШИШЬ? МЫ УЖЕ БЛИЗКО.'")	
/datum/status_effect/buff/unleashed_soulchurner/on_creation(mob/living/new_owner, stress, colour)
	effect_color = "#800000"
	return ..()

/datum/status_effect/buff/unleashed_soulchurner/tick()
	var/obj/effect/temp_visual/music_rogue/M = new /obj/effect/temp_visual/music_rogue(get_turf(owner))
	M.color = "#800000"
	pulse += 1
	if (pulse >= ticks_to_apply)
		pulse = 0
		if(!HAS_TRAIT(owner, TRAIT_INQUISITION))
			owner.add_stress(/datum/stressevent/soulchurnerhorror_empowered)
		for (var/mob/living/carbon/human/H in hearers(7, owner))
			if (!H.client)
				continue
			if (!H.has_stress_event(/datum/stressevent/soulchurner_empowered))
				switch(H.patron?.type)
					if(/datum/patron/old_god)
						if (!H.has_stress_event(/datum/stressevent/soulchurnerpsydon))
							H.add_stress(/datum/stressevent/soulchurnerpsydon)
							to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
							to_chat(H, (span_cultsmall(pick(psydonianlines_empowered))))
						if(HAS_TRAIT(H, TRAIT_INQUISITION))
							H.apply_status_effect(/datum/status_effect/buff/churnerprotection)
							H.apply_damage(2, BRUTE, null, FALSE, TRUE, TRUE)
						else
							H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
					if(/datum/patron/inhumen/matthios)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(matthioslines_empowered))))
						H.add_stress(/datum/stressevent/soulchurnerheretic_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/inhumen/zizo)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(zizolines_empowered))))
						H.add_stress(/datum/stressevent/soulchurnerheretic_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/inhumen/graggar)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(graggarlines_empowered))))
						H.add_stress(/datum/stressevent/soulchurnerheretic_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/inhumen/baotha)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(baothalines_empowered))))
						H.add_stress(/datum/stressevent/soulchurnerheretic_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/undivided)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(undividedlines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/astrata)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(astratanlines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/noc)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(noclines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/necra)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(necralines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/pestra)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(pestralines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/malum)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(malumlines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/dendor)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(dendorlines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/xylix)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(xylixlines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/eora)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(eoralines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/abyssor)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(abyssorlines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
					if(/datum/patron/divine/ravox)
						to_chat(H, (span_hypnophrase("Вопли истерзанных душ прорываются сквозь мелодию и вгрызаются в твой разум...")))
						to_chat(H, (span_cultsmall(pick(ravoxlines_empowered))))
						H.add_stress(/datum/stressevent/soulchurner_empowered)
						H.apply_status_effect(/datum/status_effect/debuff/nekoldun)
						H.apply_damage(5, BRUTE, null, FALSE, TRUE, TRUE)
						if(!H.has_status_effect(/datum/status_effect/buff/churnernegative))
							H.apply_status_effect(/datum/status_effect/buff/churnernegative)
